from flask import Flask
app = Flask(__name__)

@app.route("/")
def home():
    return "Yo! Flask is running by dinesh"

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=5000, debug=True)


EX 3 : DEPLOY A SIMPLE FLASK WEB APP ON AN EC2 INSTANCE
AND MONITOR IT USING THE AWS CONSOLE.
STEP 1: Launch an EC2 Instance
1. Go to AWS Console → Search for EC2
2. Click Launch Instance
3. Configure:
o Name: FlaskAppInstance
o AMI: Choose Amazon Linux 2 (recommended)
o Instance type: t2.micro
o Key pair:
Use default key pair (VOCKEY) for EC2 Instance Connect
o Network settings:
▪ Allow HTTP (port 80) and SSH (port 22) in the security group
4. Click Launch Instance
5. Wait for the status to show "Running"
STEP 2: Connect to the EC2 Instance
1. Select the instance from the EC2 dashboard
2. Click Connect → Click Connect to open a terminal
STEP 3: Install Python, Flask, and Git
Inside the EC2 terminal:
1. Update packages
sudo yum update -y
2. Install Python 3 and pip
sudo yum install python3 -y
Install pip3
1. Update the package list
sudo yum update -y
2. Install Python 3 and pip
sudo yum install python3-pip -y
3. Confirm pip3 is available
which pip3
4. Upgrade pip (optional but recommended)
pip3 install --upgrade pip
5. Install Flask
pip3 install flask
6. Install Git if you're cloning the app
sudo yum install git -y
___________________________________________________________________________
STEP 4: Create the Flask App
mkdir myflaskapp
cd myflaskapp
# Create application.py
nano application.py
Copy and paste the below python code in NANO text editor
from flask import Flask
application = Flask(__name__)
@application.route('/')
def hello():
return "Hello from EC2 Flask App!"
if __name__ == "__main__":
application.run(host='0.0.0.0', port=80)
Save the file: press Ctrl + O, then Enter, then Ctrl + X
________________________________________________________________________
STEP 4: Install Flask for Python 3
Install Flask for Python 3
sudo pip3 install flask
.Verify Installation
After installing Flask, confirm it’s available:
python3 -m flask --version
______________________________________________________________________
STEP 6: Run the Flask App
sudo python3 nano application.py
_______________________________________________________________________
STEP 7: Run the Flask App
Now open a browser and go to:
http:// <Publi.c DNS IPV4.>
You'll see:
"Hello from EC2 Flask App!"
_____________________________________________________________________
STEP 8: Monitor the application's health through the AWS Console
1. Got to AWS console AND SELECT INSTANCE
2. Go to Monitor tab
3. Monitor the application's health
________________________________________

4. Hosting a static website on S3, enable static website hosting, and
configure CloudFront for global content delivery.
1. Create an S3 Bucket for Your Website
1. Go to the S3 Console
2. Click “Create bucket”
3. Enter a unique bucket name (e.g., my-static-website-aswin)
4. Region: Choose your preferred AWS region (e.g., us-east-1)
5. Uncheck “Block all public access”
6. Acknowledge the warning
7. Click “Create bucket”
2. Upload Your Website Files
1. Click your newly created bucket
2. Go to the Objects tab
3. Click Upload
4. Upload index.html, error.html, and any assets (CSS, JS, images)
5. Click Upload
3. Enable Static Website Hosting
1. Go to the Properties tab of your S3 bucket
2. Scroll down to Static website hosting
3. Click Edit
4. Choose: Enable
5. Set:
o Index document: index.html
o Error document: error.html (optional)
6. Save changes
7. Note the bucket website endpoint (e.g., http://your-bucket.s3-website-us-east1.amazonaws.com)
 4. Make Bucket Files Public
1. Go to the Permissions tab
2. Scroll to Bucket policy
3. Click Edit and paste this policy (replace with your bucket name)
{
 "Version": "2012-10-17",
 "Statement": [
 {
 "Sid": "PublicReadForWebsite",
 "Effect": "Allow",
 "Principal": "*",
 "Action": "s3:GetObject",
 "Resource": "arn:aws:s3:::my-static-website-aswin/*"
 }
 ]
}
4. Save changes
5. Create a CloudFront Distribution
1. Go to the CloudFront Console
2. Click Create Distribution
3. Under Origin, do the following:
o Origin domain: Paste the S3 website endpoint (e.g., my-static-websiteaswin.s3-website-us-east-1.amazonaws.com)
o Origin type: Select “Website”
o Leave Origin Access as “None (bucket is public)”
4. Scroll down to Default cache behavior
o Viewer protocol policy: Redirect HTTP to HTTPS
5. Scroll to Settings
o Default root object: index.html
6. Click Create Distribution
Wait a few minutes for status to become “Deployed”
6. Access Your Website
Once deployed, CloudFront will give you a domain like:



Exercise 5 : Launching an RDS (MAriadb)instance, connect it to an EC2 instance, and perform basic database
operations like creating tables and querying data.
1. Go to EC2 → Launch instance.
2. Name: ec2-db-client
3. AMI: Amazon Linux 2023 (or Ubuntu 22.04).
4. Instance type: t2.micro (Free tier).
5. Key pair: Select VOCKEY
6. Security group: Allow SSH (22) from your IP.
7. Create New Security Rule
1. Go to Edit in Network Settinggs → Create New Security Rule : Type : Mysql/AURORA
2. Add CIDR : 0.0.0.0/0
8. Launch instance.
9. Connect your instance
10. Go to Linux Terminal and type the following Commands
1. Update your package index
sudo dnf update -y
2. Install the MariaDB client/server
sudo dnf install -y mariadb105-server
3. Start the MariaDB service
sudo systemctl start mariadb
sudo systemctl enable mariadb
4. Log into MariaDB
sudo MySQL
In mariadb terminal type the queries
• Create a database (if you don’t have one yet)
MariaDB [mydb]> CREATE DATABASE mydb;
• Switch to that database
MariaDB [mydb]> USE mydb;
• Create your table
MariaDB [mydb]> CREATE TABLE teststudent (rollno number(2), name char(10));
MariaDB [mydb]> Insert into teststudent values(1,’David’)’
MariaDB [mydb]>Select * from teststudent;
MariaDB [mydb]>Exit


6. Sending an Email using Amazon SNS (Simple Notification Service)
1. Open SNS Console
• Go to AWS Management Console → Search for SNS.
• Click Simple Notification Service.
2. Create a Topic
• Click Topics → Create topic.
• Choose Standard type.
• Name your topic (e.g., BCATESTEMAIL).
• Click Create topic.
3. Subscribe an Email Address
• In your new topic, click Create subscription.
• Protocol → Choose Email.
• Endpoint → Enter your email address (e.g., aswin@gmail.com).
• Click Create subscription.
• Check your inbox → You’ll get a confirmation email from AWS.
• Click the Confirm subscription link in the email.
4. Publish a Message (Send Email)
• In the topic page, click Publish message.
• Subject → Type your subject (e.g., AWS SNS Email Test).
• Message body → Type your message.
• Click Publish message.
5. The email will be sent to all subscribed & confirmed email addresses.


7. Invoking a Lambda Function Using Console and Function URL
Step 1 : Create a Lambda Function
Go to AWS Console → Lambda → Create function.
Choose:
1. Author from scratch
2. Function name: helloFunction
3. Runtime: Python 3.12 (or Node.js if you prefer)
4. Permissions: Use default (basic execution role)
Step 2: Click Create function.
1. Inside the function editor, replace the code with:
import json
def lambda_handler(event, context):
 return {
 "statusCode": 200,
 "headers": { "Content-Type": "application/json" },
 "body": json.dumps({ "message": "Hello from Lambda!" })
 }
2. Click Test and Save
Step 3 : Use Lambda Function URL (New Feature)
• In Lambda → Select your function → Go to Configuration → Function URL.
• Enable it (auth can be set to “NONE” if allowed).
• Copy the generated URL and paste it in the browser.
• You will be getting the message “ Hello from Lambda!”
Step 4 : Logout of AWS Console


EX 8 : Setting up CloudWatch monitoring for EC2 instances, create alarms for
specific metrics (e.g., CPU utilization exceeding 30%), and verify alarm
triggers.
Step 1: Enable Detailed Monitoring
Go to EC2 Console → Instances → Select your EC2 instance
1. Click Actions → Monitor and troubleshoot → Manage detailed monitoring
2. Enable Detailed Monitoring (1-minute intervals)
This allows CloudWatch to capture metrics more frequently.
Step 2: Open CloudWatch
Open CloudWatch Console
1. Go to AWS Console → CloudWatch → Alarms → All alarms.
o Click Create alarm.
Step 3: Create an Alarm for CPU Utilization
1. Go to CloudWatch → Alarms → Create Alarm
2. Select EC2 Metrics → Per-Instance Metrics → CPUUtilization
3. Choose the instance you want to monitor
4. Click Select metric
Step 4 : Configure Actions
1. Under Notification, select In Alarm.
2. Choose an existing SNS topic or create a new one.
o If creating new: Enter an email ID → You will receive a confirmation email → Confirm
it.
o Create Topic
3. Skip Auto Scaling / EC2 actions if you only want email alerts.
5. Name & Create Alarm
1. Give it a name (e.g., HighCPUAlarm-40).
2. Review settings → Click Create alarm.
6. Verify Alarm
• Initially, state will show as OK.
• If CPU goes above 30% → Alarm goes into In Alarm state .
• An email will be sent via SNS.
7. Verify Alarm
• Initially, state will show as OK.
• If CPU goes above 30% → Alarm goes into In Alarm state .
• An email will be sent vi

EX 9 : Create a custom VPC, add a subnet, and launch an EC2 instance inside that
subnet and check the internet connectivity.
Step 1. Create a Custom VPC
• Go to the AWS Management Console
• Navigate to VPC service
• Click Create VPC
• Enter a name tag, e.g., Student-VPC
• IPv4 CIDR block: 10.0.0.0/16
• Leave IPv6 disabled
• Click Create VPC
Step 2. Create a Subnet
• In the VPC dashboard, click Subnets > Create subnet
• Select the VPC you just created
• Enter a subnet name, e.g., Student-Subnet
• Availability Zone: Select no preference
• IPv4 CIDR block: 10.0.1.0/24
• Click Create subnet
Step 3. Create and Attach an Internet Gateway
• In the VPC dashboard, click Internet Gateways > Create internet gateway
• Name it Student-IGW
• Click Create internet gateway
• Select the created IGW, click Actions > Attach to VPC
• Attach to your Student-VPC
Step 4. Create a Route Table and Associate it
• Click Route Tables > Create route table
• Name it Student-Route-Table, select Student-VPC
• Click Create route table
• Select it, go to Routes tab > Edit routes
• Add route: destination 0.0.0.0/0 target = your Internet Gateway
• Save routes
• Go to Subnet Associations tab, click Edit subnet associations
• Select Student-Subnet
• Save
Step 5. Launch an EC2 Instance in Your Subnet
• Go to EC2 Dashboard > Launch instance
• Choose Amazon Linux 2 AMI (free tier)
• Instance type: t2.micro
• In Network settings, select:
Network: Student-VPC
o Subnet: Student-Subnet
o Auto-assign Public IP: Enabled
• Configure storage & tags (optional)
• Create/select key pair (for SSH access)
• Launch instance
6. Test Connectivity
• Once the EC2 instance is running, Go to terminal and type Ping google.com

Ex 10 : Backup and Recovery with AWS CloudShell and S3 Storage
Step 1: Create a Bucket studenoriginalstorage and upload file.txt
Step 2 : Open CloudShell
1. Log in to the AWS Console using your credentials.
2. Click the CloudShell icon at the top-right corner of the console.
3. Wait for the terminal window to initialize and be ready.
Step 3: Verify Access to Your S3 Bucket
1. Run the following command to check access:
aws s3 ls s3://studentoriginalstorage/
2. You will see File.txt, you have access and can proceed.
Step 4: Create a File to Back Up
1. Create a backup directory in your CloudShell environment:
mkdir ~/backup
2. Create a test file named sample.txt with some sample content:
echo "This is my backup test file." > ~/backup/sample.txt
3. Verify that the file was created:
cat ~/backup/sample.txt
Step 5 – Upload the File to S3 (Backup Operation)
1. Run the command to upload the file to your S3 bucket:
aws s3 cp ~/backup/sample.txt s3://studentoriginalstorage/
2. You should see output like:
upload: backup/sample.txt to s3://studentoriginalstorage/sample.txt
3. This confirms that the file has been uploaded as a backup.
Step 6 – Verify the File in the Bucket
1. Run the following command to list the contents of the bucket:
aws s3 ls s3://studentoriginalstorage/
Step 7 – Download the File to Simulate Restore
1. Run the following command to download the file back to your CloudShell
environment:
aws s3 cp s3://studentoriginalstorage/sample.txt ~/backup/
2. Confirm that the file has been downloaded by checking its contents:
cat ~/backup/sample.txt
Output : The file sample.txt is successfully restored form the backup.
